{# templates/admin/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Panneau d'administration{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1 class="text-danger">ğŸ›¡ï¸ Dashboard Administrateur</h1>
        
        <hr>

        {# --- MÃ‰THODE COMPLÃˆTE : VÃ©rification de sÃ©curitÃ© --- #}
        {% if app.user %}
            <div class="alert alert-info d-flex justify-content-between align-items-center">
                <span>
                    Bienvenue, <strong>{{ app.user.profileName|default(app.user.userIdentifier) }}</strong>. 
                    Vous avez les pleins pouvoirs sur la plateforme.
                </span>
                {# Bouton de dÃ©connexion rapide pour tes tests #}
                <a href="{{ path('app_logout') }}" class="btn btn-outline-danger btn-sm">Se dÃ©connecter</a>
            </div>
        {% else %}
            <div class="alert alert-warning">
                Attention : Vous n'Ãªtes pas identifiÃ©. <a href="{{ path('app_login') }}">Connectez-vous ici</a>.
            </div>
        {% endif %}
        {# -------------------------------------------------- #}

        <div class="row mt-4">
            {# Carte Utilisateurs (FONCTIONNELLE) #}
            <div class="col-md-4">
                <div class="card bg-light p-3 border-primary shadow-sm">
                    <h3>ğŸ‘¥ Utilisateurs</h3>
                    <p>GÃ©rer les clients, les vendeurs et leurs rÃ´les.</p>
                    {# Route gÃ©nÃ©rÃ©e par ton CRUD User #}
                    <a href="{{ path('app_user_index') }}" class="btn btn-primary w-100">AccÃ©der Ã  la gestion</a>
                </div>
            </div>

            {# Carte Produits (EN ATTENTE) #}
            <div class="col-md-4">
                <div class="card bg-light p-3 shadow-sm" style="opacity: 0.7;">
                    <h3>ğŸ›’ Produits</h3>
                    <p>ModÃ©rer les annonces (BientÃ´t disponible).</p>
                    <button class="btn btn-secondary disabled w-100">En attente de l'entitÃ©</button>
                </div>
            </div>

            {# Carte Statistiques (EN ATTENTE) #}
            <div class="col-md-4">
                <div class="card bg-light p-3 shadow-sm" style="opacity: 0.7;">
                    <h3>ğŸ“Š Statistiques</h3>
                    <p>Volume des ventes (BientÃ´t disponible).</p>
                    <button class="btn btn-secondary disabled w-100">En attente des commandes</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}